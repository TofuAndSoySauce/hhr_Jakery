<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jakery</title>
  <link rel="shortvut icon" href="image\logo_J.png">
  <link rel="stylesheet" type="text/css" href="css/reset.css">
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <link rel="stylesheet" type="text/css" href="css/style_t.css">
  <link rel="stylesheet" type="text/css" href="css/board.css">
  <link rel="stylesheet" type="text/css" href="css/boardForm.css">
  <link rel="stylesheet" type="text/css" href="css/productDetail.css">
  <link rel="stylesheet" type="text/css" href="css/productList.css">
  <link rel="stylesheet" type="text/css" href="css/mypage.css">
  <link rel="stylesheet" type="text/css" href="css/mypage-memberForm.css">
  <link rel="stylesheet" type="text/css" href="css/mypage-cart.css">
  <link rel="stylesheet" type="text/css" href="css/mypage-buylist.css">



  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-bs4.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-bs4.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <sec:authorize access="isAuthenticated()">
    <sec:authentication property="principal" var="principal" />
  </sec:authorize>
  <script type="text/javascript" src="/js/main.js"></script>
  <!-- <script type="text/javascript" src="/js/product.js"></script> -->
</head>

<body>
  <!-- 헤더 메뉴바 -->
  <nav class="navbar">
    <div class="navbar-list navbar-menu">
      <ul class="navbar-nav">
        <li><a class="nav-content navbar-logo" href="/"><span style="color: #ffc730;">J</span><span
              style="color: #303030;">akery</span></a></li>
        <li class="menu-item nav-item"><a class="nav-link" href="">News</a>
          <ol class="sub_menu_list">
            <li class="sub-item"><a href="">Notice</a></li>
            <li class="sub-item"><a href="">Event</a></li>
          </ol>
        </li>
        <li class="menu-item nav-item"><a class="nav-link" href="">Menu</a>
          <ol class="sub_menu_list">
            <li class="sub-item"><a href="">Bread</a></li>
            <li class="sub-item"><a href="">Desert</a></li>
            <li class="sub-item"><a href="">Baking tools</a></li>
          </ol>
        </li>
        <li class="menu-item nav-item"><a class="nav-link" href="">Board</a>
          <ol class="sub_menu_list">
            <li class="sub-item"><a href="">1 : 1</a></li>
            <li class="sub-item"><a href="/auth/freeBoard">Free</a></li>
          </ol>
        </li>
      </ul>
    </div>
    <div class="navbar-list navbar-user">

      <c:choose>
        <c:when test="${empty principal}">
          <ul class="navbar-nav">
            <li class="user-item nav-item"><a class="nav-link" href="/auth/loginForm">Login</a></li>
            <li class="user-item nav-item"><a class="nav-link" href="/auth/joinForm">Account</a></li>
            <li class="user-item nav-item search-icon"><a class="nav-link" href=""><span class="reading-glasses">
                  <span class="reading-glasses__circle"></span> <span class="reading-glasses__line"></span>
                </span></a></li>
          </ul>
        </c:when>

        <c:otherwise>
          <ul class="navbar-nav">
            <li class="user-item nav-item"><a class="nav-link" href="/logout">Logout</a></li>
            <li class="user-item nav-item"><a class="nav-link" href="">Mypage</a></li>
            <li class="user-item nav-item"><a class="nav-link" href=""><span class="reading-glasses"> <span
                    class="reading-glasses__circle"></span> <span class="reading-glasses__line"></span>
                </span></a></li>
          </ul>
        </c:otherwise>
      </c:choose>
    </div>

  </nav>
  <br />

  <div id="mypage-container">
    <div class="wrapper mypage-wrapper">

      <div class="mypage-sub-title" style="font-size: 38px;">
        <span style="color:#ffc730;">M</span>Y <span style="color:#ffc730;">P</span>AGE
      </div>
      <div class="mypage-sub-div">
        <div class="mypage-sub-head">
          <div class="mypage-sub-logo"><span style="color: #ffc730;">J</span>AKERY</div>
          <div class="mypage-sub-profile">
            <div class="mypage-sub-profile-item mypage-sub-profile-title">
              <span class="mypage-sub-profile-name"><span style="color: #ffc730;">이름</span>님</span><br>
              환영합니다.
            </div>
            <table class="mypage-sub-profile-item mypage-sub-profile-table">
              <tr>
                <th>가입일</th>
                <td>｜ 2022.12.12</td>
              </tr>
              <tr>
                <th>등급</th>
                <td>｜ USER</td>
              </tr>
              <tr>
                <th>구매</th>
                <td>｜ 12건</td>
              </tr>
            </table>
            <button class="mypage-sub-profile-item mypage-sub-profile-btn" type="button">LOGOUT</button>
          </div>
          <ul>
            <li class="mypage-sub-li" id="chk"><a href="#">회원정보</a></li>
            <li class="mypage-sub-li"><a href="#">장바구니</a></li>
            <li class="mypage-sub-li"><a href="#">구매내역</a></li>
            <li class="mypage-sub-li"><a href="#">예약일정</a></li>
          </ul>
        </div>
        <div class="mypage-sub-body">
          <div class="mypage-sub-active mypage-sub-content">

            <!-- 회원정보 페이지 임포트 -->

<div id="mypage-register-container">
  <div class="mypage-register-wrapper">
    <a class="mypage-register-logo" href="/"><span style="color: #ffc730;">M</span><span
        style="color: #303030;">EMBER</span></a>
    <form action="/action_page.php" onsubmit="return false" class="mypage-register-form">
      <div class="mypage-register-div">
        <div class="mypage-registerform-label">
          <label for="userid">아이디 </label>
          <label for="username">이름 </label>
          <label for="password">비밀번호 </label>
          <label for="email">메일 </label>
          <label for="postnum">우편번호 </label>
          <label for="address">주소</label>
          <label for="subaddress">상세주소</label>
          <label for="subaddress">마일리지</label>


        </div>
        <div class="mypage-registerform-input">
          <input type="text" class="mypage-registerform-control" value="입력된 아이디" id="userid" disabled> <input
            type="text" class="mypage-registerform-control"  value="입력된 이름"  id="username" disabled> <input
            type="password" class="mypage-registerform-control" value="입력된 패스워드" id="password" disabled> 
            <input  type="email" class="mypage-registerform-control" value="입력된 이메일" id="email" disabled>
            <input type="text" class="mypage-registerform-control" name="zipcode" readonly id="postnum" disabled>
            <input type="text" class="mypage-registerform-control" name="address" readonly placeholder="Enter Your Address" id="address" disabled>
            <input type="text"  class="mypage-registerform-control"  name="address_detail" id="subaddress" disabled>
            <input type="number"  class="mypage-registerform-control"  name="number" id="number" value ="1234" disabled>

        </div>
      </div>
    </form>
    <div class="mypage-register-btn-div">
      <button type="submit" class="mypage-btn-register" id="btn-delete">회원탈퇴</button>
    <button type="submit" class="mypage-btn-register" id="btn-update">수정하기</button>
    <a href="/logout" class="mypage-btn-logout" id="">로그아웃</a>
  </div>
  </div>
</div>
            <br />
          </div>
          <div class="mypage-sub-etc mypage-sub-active mypage-sub-content">
            
            <!-- 장바구니 페이지 임포트 -->

            <div id="mypage-cart-container">
              <div class="cart">
                <div class="cart__information">
                  <ul class="cart-info-ul">
                    <li class="cart-info-li-first cart-info-li">장바구니 상품은 <b>최대 30일간 저장</b>됩니다.</li>
                    <li class="cart-info-li">가격, 옵션 등 정보가 변경된 경우 주문이 불가할 수 있습니다.</li>
                    <li class="cart-info-li">주문시 픽업(예약)과 배송(택배) 여부를 반드시 확인해주세요. <b>선택 실수로 인한 환불 및 변경은 불가</b>합니다.</li>
                  </ul>
                </div>
                <a class="mypage-cart-logo" href="/"><span style="color: #ffc730;">C</span><span
                    style="color: #303030;">ART</span></a>
                <table class="cart__list">
                  <form>
                    <thead class="cart__list_thead">
                      <tr class="cart__list_thead_tr">
                        <th style="width: 5%;" class="cart__list_th dummy"><input type="checkbox"  onclick='selectAll(this)'></th>
                        <th style="width: 55%;" class="cart__list_th dummy">상품정보</th>
                        <th style="width: 20%;" class="cart__list_th dummy">주문정보</th>
                        <th style="width: 20%;" class="cart__list_th dummy">상품금액</th>
                      </tr>
                    </thead>
                    <tbody class="cart__list__tbody">
                      <tr class="cart__list__detail">
                        <td>
                          <div><input type="checkbox" name="cart-product" ></div>
                        </td>
                        <td class="cart-main">
                          <img class="cart-img" src="">
                          <div class="cart-title">
                            <span class="cart-sub">1줄 설명</span>
                            <p class="cart-name">상품명상품명</p>
                            <sapn class="cart-price"><span id="mypage-price">1000</span>원</sapn>
                          </div>
                        </td>
                        <td>
                          <div class="cart__list__option">
                            <form name="product_count" action="">
                              <p class="cart-option-num"> 상품명 / <span id="mypage-count-result">1</span>
                                개</p>
                              <div class="cart_count_item _count">
                                <button type="button" class="minus">-</button>
                                <input type="text" class="inp" value="1" disabled />
                                <button type="button" class="plus">+</button>
                                <input type="hidden" value="가격*수량">
                              </div>
                            </form>
                          </div>
                        </td>
                        <td><span class="cart-price"><span id="mypage-price-result">1000</span>원</span><br>
                          <button class="cart__list__orderbtn">바로 주문하기</button>
                        </td>
                      </tr>
                      <tr class="cart__list__detail">
                        <td>
                          <div><input type="checkbox" name="cart-product"></div>
                        </td>
                        <td class="cart-main">
                          <img class="cart-img" src="">
                          <div class="cart-title">
                            <span class="cart-sub">1줄 설명</span>
                            <p class="cart-name">상품명상품명</p>
                            <sapn class="cart-price">99,999원</sapn>
                          </div>
                        </td>
                        <td>
                          <div class="cart__list__option">
                            <form name="product_count" action="">
                              <p class="cart-option-num"> 상품명 / 13개</p>
                              <div class="cart_count_item _count">
                                <button type="button" class="minus">-</button>
                                <input type="text" class="inp" value="1" disabled />
                                <button type="button" class="plus">+</button>
                                <input type="hidden" value="가격*수량">
                              </div>
                            </form>
                          </div>
                        </td>
                        <td><span class="cart-price">116,620원</span><br>
                          <button class="cart__list__orderbtn">바로 주문하기</button>
                        </td>
                      </tr>
                    </tbody>
                    <tfoot>
                      <tr>
                        <td style="height:50px; padding-left: 12px; border: none;" colspan="3"><input type="checkbox"> <button class="cart__list__optionbtn">선택상품 삭제</button>
                        </td>
                      </tr>
                    </tfoot>
                  </form>
                </table>
                <div class="cart__mainbtns">
                  <button class="cart__bigorderbtn left">쇼핑 계속하기</button>
                  <button class="cart__bigorderbtn right">주문하기</button>
                </div>
              </div>
            </div>
          

          </div>
          <div class="mypage-sub-etc mypage-sub-active mypage-sub-content">
            <!--구매내역 페이지 임포트-->
            
  <div id="mypage-buylist-container">
    <div class="buylist">
      <div class="buylist__information">
        <ul class="buylist-info-ul">
          <li class="buylist-info-li-first buylist-info-li">해당 페이지의 상품은 이미 주문이 완료된 제품들입니다.</li>
          <li class="buylist-info-li">제품 특성상 <b>제작이 시작된 제품은 환불 및 변경이 불가</b> 합니다.</li>
          <li class="buylist-info-li">픽업(예약)과 배송(택배) <b>선택 실수로 인한 환불 및 변경은 불가</b>합니다.</li>
          <li class="buylist-info-li">자세한 문의는 1:1 게시판 또는 SNS를 통해 부탁드립니다.</li>
        </ul>
      </div>
      <a class="mypage-buylist-logo" href="/"><span style="color: #ffc730;">B</span>UY &nbsp;<span
          style="color: #303030;"><span style="color: #ffc730;"> L</span>IST<span style="color: #303030;"></a>
      <table class="buylist__list">
        <form>
          <thead>
            <tr>
              <th style="width: 40%;"  class="buylist__list_th dummy">상품정보</th>
              <th style="width: 24%;"  class="buylist__list_th dummy">주문정보</th>
              <th style="width: 12%;"  class="buylist__list_th dummy">상품금액</th>
              <th style="width: 12%;"  class="buylist__list_th dummy">결제 상태</th>
              <th style="width: 12%;"  class="buylist__list_th dummy">예약 및 <br>배송 정보</th>

            </tr>
          </thead>
          <tbody>

            <tr class="buylist__list__detail">
              <td class="buylist-main">
                <img class="buylist-img" src="">
                <div class="buylist-title">
                  <span class="buylist-sub">1줄 설명</span>
                  <p class="buylist-name">상품명상품명</p>
                  <sapn class="buylist-price">99,999원</sapn>
                </div>
              </td>
              <td>
                <div class="buylist__list__option">
                  <p class="buylist-sub-gray"> 개수 : 13개</p>
                  <a class="buylist-option-date"> 주문일 : 2022.12.14</a>
                  <p class="buylist-sub-gray"> 결제 방식 : 카드</p>
                </div>
              </td>
              <td><span class="buylist-price2">116,620원</span><br>
              </td>
              <td><span class="buylist-pay">완료</span><br>
              </td>
              <td><span class="buylist-op">예약/택배</span><br>
                <button class="buylist__list__orderbtn">확인하기</button>
              </td>
            </tr>
            <tr class="buylist__list__detail">
              <td class="buylist-main">
                <img class="buylist-img" src="">
                <div class="buylist-title">
                  <span class="buylist-sub">1줄 설명</span>
                  <p class="buylist-name">상품명상품명</p>
                  <sapn class="buylist-price">99,999원</sapn>
                </div>
              </td>
              <td>
                <div class="buylist__list__option">
                  <p class="buylist-sub-gray"> 개수 : 13개</p>
                  <a class="buylist-option-date"> 주문일 : 2022.12.14</a>
                  <p class="buylist-sub-gray"> 결제 방식 : 카드</p>
                </div>
              </td>
              <td><span class="buylist-price2">116,620원</span><br>
              </td>
              <td><span class="buylist-pay">완료</span><br>
              </td>
              <td><span class="buylist-op">예약/택배</span><br>
                <button class="buylist__list__orderbtn">확인하기</button>
              </td>
            </tr>
          </tbody>
        </form>

      </table>
      <div class="buylist__total">
        총 결제 금액 : 
        <span>9,999,999원</span>
      </div>
      <div class="buylist__mainbtns">
        <button class="buylist__bigorderbtn left">후기 쓰러가기</button>
        <button class="buylist__bigorderbtn right">배송 정보 확인하기</button>
      </div>
    </div>
  </div>
          </div>
          <div class="mypage-sub-etc mypage-sub-active mypage-sub-content">예약일정</div>
        </div>
      </div>


    </div>
  </div>


  <script>
    window.onload = function () {
      chk.click();
    }

    $('.mypage-sub-div .mypage-sub-head > ul > li').click(function () {
      // 클릭된 당사자 => this
      // 이 함수를 실행한 주어 => this
      // $(this) => 이거 포장해주세요.
      // 굳이 포장을 하는 이유
      var $클릭된_녀석 = $(this);
      var $part5 = $클릭된_녀석.closest('.mypage-sub-div');
      //var $part5 = $클릭된_녀석.parent().parent().parent(); // $part5를 얻는 또 다른 방법
      // 오직 $part5 안에서만 .body 로 검색해서 나온 것들 포장해주세요.
      var $body = $part5.find('.mypage-sub-body');
      // 기존에 active 가진 녀석에게 active 빼앗기

      $클릭된_녀석.parent().find('.mypage-sub-active').removeClass('mypage-sub-active');
      $클릭된_녀석.addClass('mypage-sub-active');

      // 클릭된 녀석이 형제 중에서 몇 번째 인지 확인(참고로 0부터 셉니다.);
      var index = $클릭된_녀석.index();

      // part-5 라는 클래스를 가진 나의 조상중에 나랑 가장 가까운 1개를 포장해주세요.

      // 기존의 active 된 요소들에서 active 제거
      $body.find('.mypage-sub-active').removeClass('mypage-sub-active');

      $body.find('div:nth-child(' + (index + 1) + ')').addClass('mypage-sub-active');
    });

    $(".mypage-sub-head ul li").on("click", function () {
      $(".mypage-sub-head ul li").css('background-color', 'inherit');
      $(this).css('background-color', '#ffc730');
      $(".mypage-sub-head ul li").css('border', 'inherit');
      $(this).css('border', '#ffc730');
    });

  </script>

  
<script>

  /*상품 개수*/
  $('._count :button').on({
    'click': function (e) {
      const countElement = document.getElementById('mypage-count-result');
      const priceElement = document.getElementById('mypage-price');
      const resultElement = document.getElementById('mypage-price-result');
      let number = countElement.innerText;
      let price = parseInt(priceElement.innerText);
      e.preventDefault();
      var $count = $(this).parent('._count').find('.inp');
      var now = parseInt($count.val());
      var min = 1;
      var max = 999;
      var num = now;
      if ($(this).hasClass('minus')) {
        var type = 'm';
      } else {
        var type = 'p';
      }
      if (type == 'm') {
        if (now > min) {
          num = now - 1;
          number = parseInt(number) - 1;
        }
      } else {
        if (now < max) {
          num = now + 1;
          number = parseInt(number) + 1;
        }
      }
      if (num != now) {
        $count.val(num);
        number = parseInt(number);
      }
      countElement.innerText = number;
      resultElement.innerText = number*price;
    }
  });


  /*전체선택*/
  
  function selectAll(selectAll)  {
const checkboxes 
     = document.getElementsByName('cart-product');

checkboxes.forEach((checkbox) => {
  checkbox.checked = selectAll.checked;
})
}
</script>

  <footer id="footer">
    <div class="navbar-list navbar-menu">
      <ul class="navbar-nav">
        <li class="footer-item nav-item"><a href="">Instagram</a></li>
        <li class="footer-item nav-item"><a href="">Facebook</a></li>
        <li class="footer-item nav-item"><a href="">Youtube</a></li>
        <li class="footer-item nav-item"><a href="">KakaoTalk</a></li>
      </ul>
    </div>
    <p class="copyright">Copyright 2022. Jakery All Contents cannot be copied without permission.</p>
  </footer>

</body>

</html>